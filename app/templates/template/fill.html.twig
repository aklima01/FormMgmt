{#Fill up a template form fill.html.twig#}
{% extends 'base.html.twig' %}

{% block title %}Fill up template form{% endblock %}

{% block body %}

    <div class="container-fluid">
        <div class="row mt-4">
            <div class="col-md-8 offset-md-2">

                <!-- Template Info -->
                <h2 class="mb-1">{{ template.title }}</h2>
                <p class="text-muted">
                    Topic:
                    {% if template.topic is not null and template.topic.name is defined %}
                        <strong>{{ template.topic.name }}</strong>
                    {% else %}
                        <em>No topic available</em>
                    {% endif %}
                </p>

                <p>{{ template.description|markdown_to_html|raw }}</p>

                {% if template.imageUrl is not null and template.imageUrl != '' %}
                    <img src="{{ template.imageUrl }}" alt="Illustration"  class="img-fluid rounded mb-4" width="480" height="320">
                {% endif %}

                <form action="{{ path('template_fill', {id: template.id}) }}" method="post">

                    <input type="hidden" name="template_id"  value="{{ template.id }}">

                    {% if template_questions is not empty %}
                        {% for question in template_questions %}
                            <div class="mb-3">
                                <label class="form-label">
                                    <strong>{{ loop.index }}. {{ question.title }}</strong>
                                </label>
                                <small class="d-block text-muted">{{ question.description }}</small>

                                {% if question.type == 'Single_line_text' %}
                                    <input type="text" class="form-control mt-1" name="question_{{ question.id }}">
                                {% elseif question.type == 'Number' %}
                                    <input type="number" min="0" class="form-control mt-1" name="question_{{ question.id }}">
                                {% elseif question.type == 'Text' %}
                                    <textarea class="form-control mt-1" rows="4" name="question_{{ question.id }}"></textarea>
                                {% elseif question.type == 'Checkbox' %}
                                    <div class="form-check mt-1">
                                        <input type="hidden" name="question_{{ question.id }}" value="0">
                                        <input class="form-check-input" type="checkbox" name="question_{{ question.id }}" id="question_{{ question.id }}">
                                        <label class="form-check-label" for="question_{{ question.id }}"> </label>
                                    </div>
                                {% else %}
                                    <input type="text" class="form-control mt-1" name="question_{{ question.id }}">
                                {% endif %}
                            </div>
                        {% endfor %}
                    {% endif %}

                        <!-- Submit -->
                    <div class="d-flex gap-2">
                        <button type="submit" class="btn btn-primary">Submit Form</button>
                        <a href="/template/123" class="btn btn-outline-secondary">Cancel</a>
                    </div>

                </form>

                <!-- Main Content end -->
            </div>
        </div>
    </div>
<!-- Body end -->
{% endblock %}
